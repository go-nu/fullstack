<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ì£¼ë¬¸ ì™„ë£Œ</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Stardos+Stencil:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        :root {
            --brand-bg: #FFFFFF;
            --brand-text: #4A4947;
            --brand-point-bg: #F9F7F0;
            --brand-point: #B17457;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: var(--brand-bg);
            color: var(--brand-text);
            font-family: 'Noto Sans KR', sans-serif;
            line-height: 1.6;
            padding-top: 70px !important;
        }

        main {
            max-width: 1100px;
            width: 100%;
            margin: 0 auto;
            padding: 60px 20px 80px 20px;
        }

        /* ì£¼ë¬¸ ì™„ë£Œ í—¤ë” */
        .order-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 32px;
            background: var(--brand-point-bg);
            border-radius: 8px;
        }

        .order-header h1 {
            color: var(--brand-point);
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 16px;
        }

        .order-header p {
            font-size: 1.1rem;
            color: var(--brand-text);
            margin-bottom: 8px;
        }

        .order-header strong {
            color: var(--brand-point);
        }

        /* ì„¹ì…˜ ê³µí†µ ìŠ¤íƒ€ì¼ */
        .section {
            background: #fff;
            border: 1px solid #e0e0e0;
            border-radius: 0;
            margin-bottom: 32px;
            overflow: hidden;
        }

        .section-header {
            background: var(--brand-point-bg);
            padding: 20px 24px;
            border-bottom: 1px solid #e0e0e0;
        }

        .section-title {
            color: var(--brand-text);
            font-size: 1.3rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .section-content {
            padding: 24px;
        }

        /* ê²°ì œ ì •ë³´ */
        .payment-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
        }

        .payment-label {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--brand-text);
        }

        .payment-amount {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--brand-point);
        }

        /* í…Œì´ë¸” ìŠ¤íƒ€ì¼ */
        .order-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 0;
        }

        .order-table th,
        .order-table td {
            padding: 16px 12px;
            text-align: center;
            border-bottom: 1px solid #e0e0e0;
        }

        .order-table th {
            background: var(--brand-point-bg);
            color: var(--brand-text);
            font-weight: 600;
            font-size: 0.95rem;
        }

        .order-table td {
            color: var(--brand-text);
            font-size: 0.9rem;
        }

        .order-table tbody tr:hover {
            background: #f8f9fa;
        }

        /* ìƒí’ˆ ì´ë¯¸ì§€ */
        .product-img {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 4px;
        }

        .product-name {
            font-weight: 500;
            color: var(--brand-text);
            text-align: left;
        }

        /* ëª¨ë°”ì¼ ìƒí’ˆ ì¹´ë“œ */
        .mobile-product-card {
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 16px;
            background: #fff;
        }

        .mobile-product-header {
            display: flex;
            gap: 16px;
            margin-bottom: 16px;
        }

        .mobile-product-img {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 4px;
        }

        .mobile-product-info {
            flex: 1;
        }

        .mobile-product-name {
            font-weight: 600;
            color: var(--brand-text);
            margin-bottom: 8px;
        }

        .mobile-product-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            font-size: 0.9rem;
        }

        .mobile-detail-item {
            display: flex;
            justify-content: space-between;
        }

        .mobile-detail-label {
            color: #666;
        }

        .mobile-detail-value {
            font-weight: 500;
            color: var(--brand-text);
        }

        .mobile-total-price {
            text-align: right;
            font-weight: 600;
            color: var(--brand-point);
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid #e0e0e0;
        }

        /* ë°°ì†¡ì§€ ì •ë³´ */
        .delivery-info {
            display: grid;
            grid-template-columns: 120px 1fr;
            gap: 12px;
            align-items: center;
        }

        .delivery-label {
            font-weight: 600;
            color: var(--brand-text);
            font-size: 0.95rem;
        }

        .delivery-value {
            color: var(--brand-text);
        }

        /* ë²„íŠ¼ ì˜ì—­ */
        .action-buttons {
            display: flex;
            gap: 16px;
            justify-content: center;
            margin: 32px 0;
        }

        .btn {
            padding: 14px 32px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: all 0.2s;
        }

        .btn-primary {
            background: var(--brand-point);
            color: #fff;
        }

        .btn-primary:hover {
            background: #8d5a41;
        }

        .btn-outline {
            background: transparent;
            color: var(--brand-point);
            border: 1px solid var(--brand-point);
        }

        .btn-outline:hover {
            background: var(--brand-point);
            color: #fff;
        }

        /* ì•ˆë‚´ ì„¹ì…˜ */
        .info-section {
            background: var(--brand-point-bg);
            padding: 24px;
            border-radius: 8px;
            margin-bottom: 24px;
        }

        .info-section h3 {
            color: var(--brand-text);
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .info-section ul {
            list-style: none;
            padding-left: 0;
        }

        .info-section li {
            padding: 8px 0;
            color: var(--brand-text);
            font-size: 0.9rem;
            line-height: 1.5;
            position: relative;
            padding-left: 20px;
        }

        .info-section li:before {
            content: "â€¢";
            color: var(--brand-point);
            font-weight: bold;
            position: absolute;
            left: 0;
        }

        /* PC/ëª¨ë°”ì¼ ì „í™˜ */
        .mobile-only {
            display: none;
        }

        .pc-only {
            display: block;
        }

        /* ë°˜ì‘í˜• ë””ìì¸ */
        @media (max-width: 900px) {
            main {
                padding: 40px 16px 60px 16px;
            }

            .order-header h1 {
                font-size: 2rem;
            }

            .payment-info {
                flex-direction: column;
                gap: 12px;
                text-align: center;
            }

            .action-buttons {
                flex-direction: column;
                gap: 12px;
            }

            .btn {
                width: 100%;
                justify-content: center;
            }
        }

        @media (max-width: 768px) {
            .mobile-only {
                display: block;
            }

            .pc-only {
                display: none;
            }

            .order-table {
                font-size: 0.85rem;
            }

            .order-table th,
            .order-table td {
                padding: 12px 8px;
            }

            .delivery-info {
                grid-template-columns: 1fr;
                gap: 8px;
            }

            .delivery-label {
                font-size: 0.9rem;
            }

            .section-content {
                padding: 16px;
            }

            .info-section {
                padding: 16px;
            }
        }

        @media (max-width: 600px) {
            .order-header {
                padding: 24px 16px;
            }

            .order-header h1 {
                font-size: 1.8rem;
            }

            .section-title {
                font-size: 1.1rem;
            }

            .mobile-product-details {
                grid-template-columns: 1fr;
                gap: 8px;
            }
        }
    </style>
</head>
<body>
<div th:replace="~{index/header :: header}"></div>

<main>
    <!-- ì£¼ë¬¸ ì™„ë£Œ í—¤ë” -->
    <div class="order-header">
        <h1>ğŸ‰ ì£¼ë¬¸ ì™„ë£Œ</h1>
        <p>ê³ ê°ë‹˜ì˜ ì£¼ë¬¸ì´ ì™„ë£Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
        <p>ì£¼ë¬¸ë‚´ì—­ ë° ë°°ì†¡ì— ê´€í•œ ì•ˆë‚´ëŠ” <strong>ì£¼ë¬¸ì¡°íšŒ</strong>ë¥¼ í†µí•˜ì—¬ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
        <p><strong>ì£¼ë¬¸ì¼ì:</strong> <span th:text="${#temporals.format(orderDto.orderTime, 'yyyy-MM-dd')}">ë‚ ì§œ</span></p>
    </div>

    <!-- ê²°ì œ ì •ë³´ -->
    <div class="section">
        <div class="section-header">
            <h2 class="section-title">ğŸ’³ ê²°ì œ ì •ë³´</h2>
        </div>
        <div class="section-content">
            <div class="payment-info">
                <span class="payment-label">ìµœì¢…ê²°ì œê¸ˆì•¡</span>
                <span class="payment-amount">
                    <span th:text="${#numbers.formatDecimal(orderDto.finalAmount, 0, 'COMMA', 0, 'COMMA')}">0</span>ì›
                </span>
            </div>
        </div>
    </div>

    <!-- ìƒí’ˆ ì •ë³´ -->
    <div class="section">
        <div class="section-header">
            <h2 class="section-title">ğŸ“¦ ìƒí’ˆ ì •ë³´</h2>

        </div>
        <div class="section-content">
            <!-- PC ë²„ì „ -->
            <div class="pc-only">
                <table class="order-table">
                    <thead>
                        <tr>
                            <th>ìƒí’ˆ ì´ë¯¸ì§€</th>
                            <th>ìƒí’ˆëª…</th>
                            <th>íŒë§¤ê°€</th>
                            <th>ìˆ˜ëŸ‰</th>
                            <th>í•©ê³„</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="item : ${orderDto.items}">
                            <td>
                                <img class="product-img" alt="ìƒí’ˆ ì´ë¯¸ì§€" th:src="${item.imgUrl}">
                            </td>
                            <td>
                                <p class="product-name" th:text="${item.productName}">ìƒí’ˆ ì´ë¦„</p>
                            </td>
                            <td>
                                <span th:text="${#numbers.formatDecimal(item.price, 0, 'COMMA', 0, 'COMMA')}">0</span>ì›
                            </td>
                            <td>
                                <span th:text="${item.count}"></span>
                            </td>
                            <td>
                                <span th:text="${#numbers.formatDecimal(item.price * item.count, 0, 'COMMA', 0, 'COMMA')}">0</span>ì›
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- ëª¨ë°”ì¼ ë²„ì „ -->
            <div class="mobile-only">
                <div th:each="item : ${orderDto.items}" class="mobile-product-card">
                    <div class="mobile-product-header">
                        <img class="mobile-product-img" alt="ìƒí’ˆ ì´ë¯¸ì§€" th:src="${item.imgUrl}">
                        <div class="mobile-product-info">
                            <div class="mobile-product-name" th:text="${item.productName}">ìƒí’ˆ ì´ë¦„</div>
                        </div>
                    </div>
                    <div class="mobile-product-details">
                        <div class="mobile-detail-item">
                            <span class="mobile-detail-label">ê°€ê²©</span>
                            <span class="mobile-detail-value">
                                <span th:text="${#numbers.formatDecimal(item.price, 0, 'COMMA', 0, 'COMMA')}">0</span>ì›
                            </span>
                        </div>
                        <div class="mobile-detail-item">
                            <span class="mobile-detail-label">ìˆ˜ëŸ‰</span>
                            <span class="mobile-detail-value" th:text="${item.count}"></span>
                        </div>
                    </div>
                    <div class="mobile-total-price">
                        ì´ ê°€ê²©: <span th:text="${#numbers.formatDecimal(item.price * item.count, 0, 'COMMA', 0, 'COMMA')}">0</span>ì›
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ê²°ì œ ìš”ì•½ -->
    <div class="section">
        <div class="section-header">
            <h2 class="section-title">ğŸ’° ê²°ì œ ìš”ì•½</h2>
        </div>
        <div class="section-content">
            <table class="order-table">
                <thead>
                    <tr>
                        <th>ì´ ìƒí’ˆê¸ˆì•¡</th>
                        <th>í• ì¸ê¸ˆì•¡</th>
                        <th>ì´ ë°°ì†¡ë¹„</th>
                        <th>ì´ ê²°ì œê¸ˆì•¡</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <span th:text="${#numbers.formatDecimal(orderDto.totalPrice, 0, 'COMMA', 0, 'COMMA')}">0</span>ì›
                        </td>
                        <td>
                            <span th:text="${#numbers.formatDecimal(orderDto.discountAmount, 0, 'COMMA', 0, 'COMMA')}">0</span>ì›
                        </td>
                        <td>
                            <span th:text="${#numbers.formatDecimal(orderDto.deliveryFee, 0, 'COMMA', 0, 'COMMA')}">0</span>ì›
                        </td>
                        <td>
                            <span th:text="${#numbers.formatDecimal(orderDto.finalAmount, 0, 'COMMA', 0, 'COMMA')}">0</span>ì›
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- ë°°ì†¡ì§€ ì •ë³´ -->
    <div class="section">
        <div class="section-header">
            <h2 class="section-title">ğŸ“ ë°°ì†¡ì§€ ì •ë³´</h2>
        </div>
        <div class="section-content">
            <div class="delivery-info">
                <span class="delivery-label">ë°›ìœ¼ì‹œëŠ”ë¶„</span>
                <span class="delivery-value" th:text="${orderDto.userName}"></span>
            </div>
            <div class="delivery-info">
                <span class="delivery-label">ìš°í¸ë²ˆí˜¸</span>
                <span class="delivery-value" th:text="${orderDto.pCode}"></span>
            </div>
            <div class="delivery-info">
                <span class="delivery-label">ì£¼ì†Œ</span>
                <span class="delivery-value" th:text="${orderDto.loadAddress + ' ' + orderDto.detailAddress}"></span>
            </div>
            <div class="delivery-info">
                <span class="delivery-label">íœ´ëŒ€ì „í™”</span>
                <span class="delivery-value" th:if="${orderDto.phone != null and orderDto.phone.length() == 11}">
                    <span th:text="${orderDto.phone.substring(0,3)}"></span>-
                    <span th:text="${orderDto.phone.substring(3,7)}"></span>-
                    <span th:text="${orderDto.phone.substring(7)}"></span>
                </span>
            </div>
        </div>
    </div>

    <!-- ì•¡ì…˜ ë²„íŠ¼ -->
    <div class="action-buttons">
        <a href="/products" class="btn btn-outline">ğŸ›’ ì‡¼í•‘ê³„ì†í•˜ê¸°</a>
        <a href="/order/history" class="btn btn-primary">ğŸ“‹ ì£¼ë¬¸í™•ì¸í•˜ê¸°</a>
    </div>

    <!-- ì´ìš©ì•ˆë‚´ -->
    <div class="info-section">
        <h3>ğŸ“‹ ì´ìš©ì•ˆë‚´</h3>
        <ul>
            <li>ë¹„íšŒì› ì£¼ë¬¸ì˜ ê²½ìš°, ì£¼ë¬¸ë²ˆí˜¸ë¥¼ ê¼­ ê¸°ì–µí•˜ì„¸ìš”. ì£¼ë¬¸ë²ˆí˜¸ë¡œ ì£¼ë¬¸ì¡°íšŒê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
            <li>ë°°ì†¡ë£Œ ì •ì±…ì€ ê° ì§€ì—­ì— ë”°ë¼ ë‹¤ë¥¼ ìˆ˜ ìˆìœ¼ë©° 2,999ì› ì´ìƒì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
            <li>ìƒí’ˆë³„ ê°œë³„ ë°°ì†¡ë¹„ëŠ” ì£¼ë¬¸ì¡°íšŒë¥¼ í†µí•´ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
            <li>ì£¼ë¬¸ ì·¨ì†Œ ë° ë³€ê²½, ê³ ê°ë¬¸ì˜ ì‚¬í•­ì€ ì´ìš©ì•ˆë‚´ì˜ ë‚´ìš©ì„ ì°¸ê³ í•˜ì‹­ì‹œì˜¤.</li>
        </ul>
    </div>

    <div class="info-section">
        <h3>ğŸ§¾ ì„¸ê¸ˆê³„ì‚°ì„œ ë°œí–‰ ì•ˆë‚´</h3>
        <ul>
            <li>ë¶€ê°€ê°€ì¹˜ì„¸ë²• ì œ 54ì¡°ì— ì˜ê±°í•˜ì—¬ ì„¸ê¸ˆê³„ì‚°ì„œëŠ” ë°°ì†¡ì™„ë£Œì¼ë¡œë¶€í„° ë‹¤ìŒë‹¬ 10ì¼ê¹Œì§€ ìš”ì²­í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
            <li>ì„¸ê¸ˆê³„ì‚°ì„œëŠ” ì‚¬ì—…ìë§Œ ì‹ ì²­í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
            <li>[ì„¸ê¸ˆê³„ì‚°ì„œ] ë©”ë‰´ë¥¼ í†µí•´ ì„¸ê¸ˆê³„ì‚°ì„œ ì‹ ì²­ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
            <li>[ì„¸ê¸ˆê³„ì‚°ì„œ ì‹ ì²­] ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ì‹ ì²­ì–‘ì‹ì„ ì‘ì„±í•˜ì‹  í›„ ì‚¬ì—…ìë“±ë¡ì¦ ì‚¬ë³¸ì„ ë³´ë‚´ì…”ì•¼ ì„¸ê¸ˆê³„ì‚°ì„œ ë°œí–‰ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
            <li>ë§¤ì¶œì „í‘œ(ì‹ ìš©ì¹´ë“œì „í‘œ)ì™€ ì„¸ê¸ˆê³„ì‚°ì„œ ì¤‘ë³µë°œí–‰ì€ ë¶ˆê°€í•©ë‹ˆë‹¤.</li>
        </ul>
    </div>

    <div class="info-section">
        <h3>ğŸ’³ í˜„ê¸ˆì˜ìˆ˜ì¦ ì´ìš©ì•ˆë‚´</h3>
        <ul>
            <li>í˜„ê¸ˆì˜ìˆ˜ì¦ì„ ë°œê¸‰ ìš”ì²­ ì‹œ, í˜„ê¸ˆì˜ìˆ˜ì¦ ë°œê¸‰ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
            <li>í˜„ê¸ˆì˜ìˆ˜ì¦ ë°œê¸‰ëŒ€ìƒ: í˜„ê¸ˆìœ¼ë¡œ ê²°ì œí•œ ê²½ìš° (ì‹¤ì‹œê°„ ê³„ì¢Œì´ì²´, ì—ìŠ¤í¬ë¡œ, ë¬´í†µì¥ì…ê¸ˆ).</li>
            <li>í˜„ê¸ˆì˜ìˆ˜ì¦ ë°œê¸‰ì€ ì…ê¸ˆí™•ì¸ í›„ [ì£¼ë¬¸ì¡°íšŒ] í˜ì´ì§€ì—ì„œ ì§ì ‘ ì¸ì‡„ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
            <li>í˜„ê¸ˆì˜ìˆ˜ì¦ ë°œê¸‰ í›„, ë¯¸ë°œí–‰ëœ ê²½ìš°ì— í•œí•´ ë°œê¸‰ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
            <li>í˜„ê¸ˆì˜ìˆ˜ì¦ ì‹ ì²­ ë° ë°œê¸‰ì€ í•´ë‹¹ ì‚¬ì´íŠ¸ë¥¼ í†µí•´ ê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
        </ul>
    </div>
</main>

<div th:replace="~{index/footer :: footer}"></div>
<script src="/js/order/orderComplete.js"></script>
</body>
</html>